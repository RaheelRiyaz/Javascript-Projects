<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic-Tac-Toe</title>
  </head>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
    crossorigin="anonymous"
  />

  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }
    .boxes {
      height: 90px;
      width: 80px;
      border: 2px solid;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: xxx-large;
      font-family: cursive;
    }
    .card-body {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }
    .bt-0 {
      border-top: 0;
    }
    .bb-0 {
      border-bottom: 0;
    }
    .bl-0 {
      border-left: 0;
    }
    .br-0 {
      border-right: 0;
    }
    img {
      height: 100%;
      width: 100%;
      object-fit: cover;
    }
  </style>
  <body>
    <h3></h3>
    <div class="card" style="width: 18rem">
      <div class="card-body">
        <div class="boxes box-1 bt-0 bl-0"></div>
        <div class="boxes box-2 bt-0"></div>
        <div class="boxes box-3 bt-0 br-0"></div>
        <div class="boxes box-4 bl-0"></div>
        <div class="boxes box-5"></div>
        <div class="boxes box-6 br-0"></div>
        <div class="boxes box-7 bl-0 bb-0"></div>
        <div class="boxes box-8 bb-0"></div>
        <div class="boxes box-9 br-0 bb-0"></div>
      </div>
    </div>
    <button
      class="btn mt-2 btn-success collapse restartBtn"
      onclick="restartGame()"
    >
      Restart
    </button>
    <script>
      const heading = document.querySelector("h3");
      const clickSound = new Audio("./Audious/mouse-click-153941.mp3");
      const winningSound = new Audio("./Audious/success-1-6297.mp3");
      let turn = "X";
      const boxes = document.querySelectorAll(".boxes");
      boxes.forEach((box, index) => {
        box.addEventListener(
          "click",
          (e) => {
            clickSound.play();
            e.target.innerText = turn;
            checkWin();
            changeTurn();
          },
          { once: true }
        );
      });

      function changeTurn() {
        turn = turn === "X" ? "0" : "X";
      }

      function checkWin() {
        if (
          boxes[0].innerText &&
          boxes[0].innerText === boxes[1].innerText &&
          boxes[1].innerText === boxes[2].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg />`;
          togleBtns();
        } else if (
          boxes[0].innerText === boxes[3].innerText &&
          boxes[3].innerText === boxes[6].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[0].innerText === boxes[4].innerText &&
          boxes[4].innerText === boxes[8].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[2].innerText &&
          boxes[2].innerText === boxes[5].innerText &&
          boxes[5].innerText === boxes[8].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[1].innerText &&
          boxes[1].innerText === boxes[4].innerText &&
          boxes[4].innerText === boxes[7].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[2].innerText &&
          boxes[2].innerText === boxes[5].innerText &&
          boxes[5].innerText === boxes[8].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[6].innerText &&
          boxes[6].innerText === boxes[7].innerText &&
          boxes[7].innerText === boxes[8].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[2].innerText &&
          boxes[2].innerText === boxes[4].innerText &&
          boxes[4].innerText === boxes[6].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        } else if (
          boxes[3].innerText &&
          boxes[3].innerText === boxes[4].innerText &&
          boxes[4].innerText === boxes[5].innerText
        ) {
          heading.innerHTML=`Congratulations ${turn} wins`
          winningSound.play();
          document.querySelector(".card-body").innerHTML = `<img
          src="https://www.funimada.com/assets/images/cards/big/congrats-12.gif"
          alt=""
          class="winImg"
        />`;
          togleBtns();
        }
      }

      function togleBtns(reverse = false) {
        if (!reverse) {
          document.querySelector(".restartBtn").classList.remove("collapse");
        } else {
          document.querySelector(".restartBtn").classList.add("collapse");
        }
      }
      function restartGame() {
        location.reload();
      }
    </script>
  </body>
</html>
